<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      http-equiv="Cache-Control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/png" href="/assets/logo/logo.png" />
    <title>Create Account - Slice N Grind</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles/navbar.css" />
    <link rel="stylesheet" href="/styles/create-account.css" />
    <link rel="stylesheet" href="/styles/footer.css" />
  </head>
  <body>
    <!-- Navbar -->
    <div data-include-html="/includes/navbar.html"></div>

    <!-- Create Account Section -->
    <div class="create-account-container">
      <h2 class="text-center mb-4">Create Account</h2>
      <form id="createAccountForm" novalidate>
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="Enter your full name"
            required
          />
          <div class="invalid-feedback">Please enter your name.</div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Enter your email"
            required
          />
          <div class="invalid-feedback">
            Please enter a valid email address.
          </div>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Enter your password"
            minlength="8"
            required
          />
          <div class="invalid-feedback">
            Please enter a password with at least 8 characters.
          </div>
        </div>
        <div class="mb-3">
          <label for="confirmPassword" class="form-label"
            >Confirm Password</label
          >
          <input
            type="password"
            class="form-control"
            id="confirmPassword"
            placeholder="Confirm your password"
            minlength="8"
            required
          />
          <div class="invalid-feedback" id="confirmPasswordFeedback">
            Passwords do not match.
          </div>
        </div>
        <div class="mb-3">
          <label for="address" class="form-label">Address</label>
          <input
            type="text"
            class="form-control"
            id="address"
            placeholder="Enter your address"
            required
          />
          <div class="invalid-feedback">Please enter your address.</div>
        </div>
        <div class="mb-3">
          <label for="contactNumber" class="form-label">Contact Number</label>
          <input
            type="tel"
            class="form-control"
            id="contactNumber"
            placeholder="Enter your 11-digit contact number"
            pattern="09\d{9}"
            maxlength="11"
            required
          />
          <div class="invalid-feedback">
            Please enter a valid 11-digit Philippine contact number starting
            with 09.
          </div>
        </div>
        <button type="submit" class="btn btn-login btn-lg mb-3 w-100">
          Create Account
        </button>
        <div class="text-center text-muted">
          <a href="login.html">Already have an account? Login</a>
        </div>
      </form>
    </div>

    <!-- Footer -->
    <div data-include-html="/includes/footer.html"></div>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/scripts/include-html.js"></script>
    <script src="/scripts/environment-config.js"></script>
    <script>
      // Bootstrap form validation with password match check
      (() => {
        "use strict";
        const form = document.getElementById("createAccountForm");
        const password = document.getElementById("password");
        const confirmPassword = document.getElementById("confirmPassword");
        const confirmPasswordFeedback = document.getElementById(
          "confirmPasswordFeedback"
        );

        form.addEventListener(
          "submit",
          (event) => {
            if (
              !form.checkValidity() ||
              password.value !== confirmPassword.value
            ) {
              event.preventDefault();
              event.stopPropagation();
              if (password.value !== confirmPassword.value) {
                confirmPassword.setCustomValidity("Passwords do not match");
                confirmPasswordFeedback.style.display = "block";
              } else {
                confirmPassword.setCustomValidity("");
                confirmPasswordFeedback.style.display = "none";
              }
            } else {
              confirmPassword.setCustomValidity("");
              confirmPasswordFeedback.style.display = "none";
            }
            form.classList.add("was-validated");
          },
          false
        );
      })();

      // Restrict contact number input to digits only
      const contactInput = document.getElementById("contactNumber");
      contactInput.addEventListener("input", (e) => {
        e.target.value = e.target.value.replace(/\D/g, "");
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
